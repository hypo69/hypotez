# Документация для модуля `test_1_murano_glass_scenario.py`

## Обзор

Модуль предназначен для экспериментов по сбору данных о товарах из Amazon, в частности, для товаров категории "Муранское стекло". Он содержит сценарий для извлечения информации о товаре с использованием веб-драйвера и API PrestaShop.

## Подробней

Модуль `test_1_murano_glass_scenario.py` является частью проекта `hypotez` и предназначен для автоматизации процесса сбора данных о товарах с сайта Amazon и их последующей загрузки в базу данных PrestaShop. Он использует веб-драйвер для взаимодействия с сайтом Amazon, извлекает необходимые данные о товаре и использует API PrestaShop для добавления или обновления информации о товаре в базе данных.

## Классы

В данном модуле классы не определены.

## Функции

### `_`

Функция выполняет локацию элементов на странице.

**Как работает функция**:

Функция вызывает метод `execute_locator` объекта `d` (драйвера) с аргументом `l['ASIN']` или `l['additional_images_urls']` или `l['name']`. Метод `execute_locator` выполняет поиск элемента на странице по заданному локатору и возвращает результат.

**Примеры**:

Примеры вызова функции с различными параметрами:

```python
ASIN = _(l['ASIN'])
default_image_url = _(l['additional_images_urls'])[0]
product_name = _(l['name'])[0]
```

## Переменные

-   `supplier_prefix` (str): Префикс поставщика, в данном случае "amazon".
-   `s` (Supplier): Объект класса `Supplier`, инициализированный с использованием `start_supplier(supplier_prefix)`.
-   `s.current_scenario` (dict): Словарь, содержащий информацию о текущем сценарии, включая URL, условие, категории PrestaShop и правило цены.
-   `l` (dict): Локаторы элементов продукта, полученные из `s.locators.get('product')`.
-   `d` (Driver): Драйвер для управления браузером, `s.driver`.
-   `_`: Сокращение для `d.execute_locator`.
-   `ASIN` (str): Значение ASIN, полученное с использованием локатора `l['ASIN']`.
-   `product_reference` (str): Ссылка на продукт, сформированная как "{s.supplier_id}-{ASIN}".
-   `product_id` (Union[int, bool]): ID продукта, полученный из базы данных PrestaShop, или `False`, если продукт не найден.
-   `default_image_url` (str): URL изображения продукта, полученный из `l['additional_images_urls']`.
-   `product_fields` (ProductFields): Поля продукта, полученные с использованием `Product.grab_product_page(s)`.
-   `product_dict` (dict): Словарь, содержащий информацию о продукте для отправки в PrestaShop.
-   `product_name` (list): Название продукта, полученное с использованием локатора `l['name']`.
-   `res_product_name` (str): Очищенное название продукта.