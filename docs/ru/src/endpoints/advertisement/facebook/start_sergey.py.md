# Модуль для отправки рекламных объявлений в группы Facebook
## Обзор

Модуль предназначен для автоматической отправки рекламных объявлений в различные группы Facebook. Он включает в себя функциональность для управления рекламными кампаниями, выбора групп для размещения объявлений, а также настройки языка и валюты.

## Подробнее

Модуль `src.endpoints.advertisement.facebook.start_sergey` автоматизирует процесс публикации рекламных объявлений в группах Facebook. Он использует драйвер веб-браузера для взаимодействия с Facebook и выполняет следующие основные задачи:

1.  **Инициализация**: Настройка и запуск драйвера веб-браузера.
2.  **Авторизация**: Автоматический вход в аккаунт Facebook.
3.  **Выбор групп**: Определение списка групп, в которых будет размещена реклама, на основе заданных критериев (язык, категория).
4.  **Публикация объявлений**: Размещение рекламных объявлений в выбранных группах.
5.  **Циклическое выполнение**: Повторение процесса публикации объявлений через заданные интервалы времени.
6.  **Обработка ошибок**: Логгирование ошибок и прерывание процесса при возникновении критических ситуаций.

Модуль предназначен для автоматизации маркетинговых задач и экономии времени при продвижении товаров или услуг в Facebook. Он может быть настроен для работы с различными языками и валютами, а также для размещения объявлений в группах определенной тематики.

## Функции

### `run_campaign`

```python
def run_campaign(d: Driver, promoter_name: str, campaigns: list | str, group_file_paths: list, language: str, currency: str):
    """Запуск рекламной кампании.

    Args:
        d (Driver): Экземпляр драйвера.
        promoter_name (str): Имя рекламодателя.
        campaigns (list): Список кампаний.
        group_file_paths (list): Пути к файлам с группами.
        language (str): Язык рекламной кампании.
        currency (str): Валюта рекламной кампании.
    """
```

**Назначение**: Запускает рекламную кампанию, используя предоставленные параметры.

**Параметры**:

*   `d` (Driver): Экземпляр драйвера веб-браузера, используемый для взаимодействия с Facebook.
*   `promoter_name` (str): Имя рекламодателя, используемое для идентификации кампании.
*   `campaigns` (list | str): Список кампаний, которые необходимо запустить.
*   `group_file_paths` (list): Список путей к файлам, содержащим информацию о группах Facebook, в которых будет размещаться реклама.
*   `language` (str): Язык, на котором будет отображаться рекламная кампания.
*   `currency` (str): Валюта, используемая в рекламной кампании.

**Как работает функция**:

Функция создает экземпляр класса `FacebookPromoter` и вызывает его метод `run_campaigns` с переданными параметрами.

**Примеры**:

```python
from src.webdriver.driver import Driver, Chrome
# Пример вызова функции
d = Driver(Chrome)
run_campaign(d, 'kazarinov', ['kazarinov_ru'], ['sergey_pages.json'], 'RU', 'ILS')
```

### `campaign_cycle`

```python
def campaign_cycle(d: Driver):
    """Цикл для управления запуском кампаний.

    Args:
        d (Driver): Экземпляр драйвера.
        aliexpress_adv (bool): Флаг для определения рекламодателя.
    """
```

**Назначение**: Управляет циклом запуска рекламных кампаний на основе заданных параметров.

**Параметры**:

*   `d` (Driver): Экземпляр драйвера веб-браузера.

**Как работает функция**:

1.  Создает копии списков `group_file_paths_ru`, `adv_file_paths_ru`, `group_file_paths_he` и `adv_file_paths_he`
2.  Определяет список словарей, содержащих пары язык-валюта (`language_currency_pairs`).
3.  Для каждой пары язык-валюта:
    *   Определяет `group_file_paths` на основе языка.
    *   Определяет список кампаний.
    *   Запускает кампании с помощью функции `run_campaign`.
    *   Получает список каталогов кампаний из Google Drive.
    *   Запускает кампании для aliexpress.

**Примеры**:

```python
from src.webdriver.driver import Driver, Chrome
# Пример вызова функции
d = Driver(Chrome)
campaign_cycle(d)
```

### `main`

```python
def main():
    """Основная функция для запуска рекламных кампаний."""
```

**Назначение**: Основная функция для запуска рекламных кампаний.

**Как работает функция**:

1.  Инициализирует драйвер Chrome.
2.  Открывает URL Facebook.
3.  Входит в бесконечный цикл, в котором:
    *   Проверяет интервал времени с помощью функции `interval()`.
    *   Если необходимо, засыпает на 1000 секунд.
    *   Запускает цикл кампаний с помощью функции `campaign_cycle()`.
    *   Логирует время и засыпает на случайное время от 30 до 360 секунд.
4.  Обрабатывает прерывание с клавиатуры и логирует информацию.

**Примеры**:

```python
# Пример вызова функции
main()