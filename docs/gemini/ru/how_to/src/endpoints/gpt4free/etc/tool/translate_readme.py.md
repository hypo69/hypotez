### ĞšĞ°Ğº Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ÑŒ ÑÑ‚Ğ¾Ñ‚ Ğ±Ğ»Ğ¾Ğº ĞºĞ¾Ğ´Ğ°
=========================================================================================

ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ
-------------------------
Ğ­Ñ‚Ğ¾Ñ‚ ĞºĞ¾Ğ´ Ğ¿Ñ€ĞµĞ´Ğ½Ğ°Ğ·Ğ½Ğ°Ñ‡ĞµĞ½ Ğ´Ğ»Ñ Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¾Ğ³Ğ¾ Ğ¿ĞµÑ€ĞµĞ²Ğ¾Ğ´Ğ° Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ° README.md Ğ½Ğ° Ğ´Ñ€ÑƒĞ³Ğ¾Ğ¹ ÑĞ·Ñ‹Ğº Ñ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸ĞµĞ¼ GPT-4. ĞĞ½ Ñ€Ğ°Ğ·Ğ´ĞµĞ»ÑĞµÑ‚ README Ğ½Ğ° Ñ‡Ğ°ÑÑ‚Ğ¸, Ğ¿ĞµÑ€ĞµĞ²Ğ¾Ğ´Ğ¸Ñ‚ ĞºĞ°Ğ¶Ğ´ÑƒÑ Ñ‡Ğ°ÑÑ‚ÑŒ, ÑĞ¾Ñ…Ñ€Ğ°Ğ½ÑÑ Ğ¿Ñ€Ğ¸ ÑÑ‚Ğ¾Ğ¼ Ğ¾Ğ¿Ñ€ĞµĞ´ĞµĞ»ĞµĞ½Ğ½Ñ‹Ğµ ÑĞ»ĞµĞ¼ĞµĞ½Ñ‚Ñ‹ ĞºĞ¾Ğ´Ğ° Ğ±ĞµĞ· Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğ¹.

Ğ¨Ğ°Ğ³Ğ¸ Ğ²Ñ‹Ğ¿Ğ¾Ğ»Ğ½ĞµĞ½Ğ¸Ñ
-------------------------
1. **Ğ˜Ğ¼Ğ¿Ğ¾Ñ€Ñ‚ Ğ½ĞµĞ¾Ğ±Ñ…Ğ¾Ğ´Ğ¸Ğ¼Ñ‹Ñ… Ğ±Ğ¸Ğ±Ğ»Ğ¸Ğ¾Ñ‚ĞµĞº**:
   - Ğ˜Ğ¼Ğ¿Ğ¾Ñ€Ñ‚Ğ¸Ñ€ÑƒÑÑ‚ÑÑ Ğ±Ğ¸Ğ±Ğ»Ğ¸Ğ¾Ñ‚ĞµĞºĞ¸ `sys`, `pathlib`, `asyncio`, `g4f`.
   - `g4f` Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ÑÑ Ğ´Ğ»Ñ Ğ²Ğ·Ğ°Ğ¸Ğ¼Ğ¾Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ñ Ñ API GPT-4.

2. **ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ° Ğ¿ÑƒÑ‚ĞµĞ¹ Ğ¸ Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ğ¾Ğ²**:
   - Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ»ÑĞµÑ‚ÑÑ Ğ¿ÑƒÑ‚ÑŒ Ğº Ñ€Ğ¾Ğ´Ğ¸Ñ‚ĞµĞ»ÑŒÑĞºĞ¾Ğ¼Ñƒ ĞºĞ°Ñ‚Ğ°Ğ»Ğ¾Ğ³Ñƒ Ğ´Ğ»Ñ Ğ¸Ğ¼Ğ¿Ğ¾Ñ€Ñ‚Ğ° Ğ¼Ğ¾Ğ´ÑƒĞ»Ñ `g4f`.
   - Ğ’ĞºĞ»ÑÑ‡Ğ°ĞµÑ‚ÑÑ Ğ»Ğ¾Ğ³Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ `g4f.debug.logging = True`.
   - Ğ£ĞºĞ°Ğ·Ñ‹Ğ²Ğ°ĞµÑ‚ÑÑ Ğ¿Ñ€Ğ¾Ğ²Ğ°Ğ¹Ğ´ĞµÑ€ `g4f.Provider.OpenaiChat`.
   - ĞĞ¿Ñ€ĞµĞ´ĞµĞ»ÑÑÑ‚ÑÑ Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ñ‹ Ğ¿ĞµÑ€ĞµĞ²Ğ¾Ğ´Ğ°, Ñ‚Ğ°ĞºĞ¸Ğµ ĞºĞ°Ğº `iso` (ÑÑ‚Ñ€Ğ°Ğ½Ğ°), `language` (ÑĞ·Ñ‹Ğº), Ğ¸ `translate_prompt` (Ğ½Ğ°Ñ‡Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ Ğ¿Ñ€Ğ¾Ğ¼Ğ¿Ñ‚ Ğ´Ğ»Ñ Ğ¿ĞµÑ€ĞµĞ²Ğ¾Ğ´Ğ°).

3. **ĞĞ¿Ñ€ĞµĞ´ĞµĞ»ĞµĞ½Ğ¸Ğµ ÑĞ¿Ğ¸ÑĞºĞ¾Ğ² Ğ±Ğ»Ğ¾ĞºĞ¸Ñ€Ğ¾Ğ²ĞºĞ¸ Ğ¸ Ñ€Ğ°Ğ·Ñ€ĞµÑˆĞµĞ½Ğ¸Ñ**:
   - `blocklist`: Ğ¡Ğ¿Ğ¸ÑĞ¾Ğº Ğ·Ğ°Ğ³Ğ¾Ğ»Ğ¾Ğ²ĞºĞ¾Ğ², ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğµ Ğ½Ğµ Ğ½ÑƒĞ¶Ğ½Ğ¾ Ğ¿ĞµÑ€ĞµĞ²Ğ¾Ğ´Ğ¸Ñ‚ÑŒ Ñ†ĞµĞ»Ğ¸ĞºĞ¾Ğ¼.
   - `allowlist`: Ğ¡Ğ¿Ğ¸ÑĞ¾Ğº ÑĞ»ĞµĞ¼ĞµĞ½Ñ‚Ğ¾Ğ², ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğµ Ğ½ÑƒĞ¶Ğ½Ğ¾ Ğ¿ĞµÑ€ĞµĞ²Ğ¾Ğ´Ğ¸Ñ‚ÑŒ Ğ´Ğ°Ğ¶Ğµ Ğ² Ğ·Ğ°Ğ±Ğ»Ğ¾ĞºĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ñ… Ñ‡Ğ°ÑÑ‚ÑÑ….

4. **Ğ¤ÑƒĞ½ĞºÑ†Ğ¸Ñ `read_text(text)`**:
   - Ğ˜Ğ·Ğ²Ğ»ĞµĞºĞ°ĞµÑ‚ Ñ‚ĞµĞºÑÑ‚ Ğ¸Ğ· markdown Ğ±Ğ»Ğ¾ĞºĞ° ĞºĞ¾Ğ´Ğ°, Ğ½Ğ°Ñ…Ğ¾Ğ´ÑÑ‰ĞµĞ³Ğ¾ÑÑ Ğ¼ĞµĞ¶Ğ´Ñƒ ```.
   - ĞĞ¿Ñ€ĞµĞ´ĞµĞ»ÑĞµÑ‚ Ğ½Ğ°Ñ‡Ğ°Ğ»Ğ¾ Ğ¸ ĞºĞ¾Ğ½ĞµÑ† Ğ±Ğ»Ğ¾ĞºĞ° ĞºĞ¾Ğ´Ğ°.
   - Ğ’Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‰Ğ°ĞµÑ‚ Ñ‚ĞµĞºÑÑ‚ Ğ¼ĞµĞ¶Ğ´Ñƒ ÑÑ‚Ğ¸Ğ¼Ğ¸ Ğ±Ğ»Ğ¾ĞºĞ°Ğ¼Ğ¸.

5. **Ğ¤ÑƒĞ½ĞºÑ†Ğ¸Ñ `translate(text)`**:
   - Ğ¤Ğ¾Ñ€Ğ¼Ğ¸Ñ€ÑƒĞµÑ‚ Ğ¿Ğ¾Ğ»Ğ½Ñ‹Ğ¹ Ğ¿Ñ€Ğ¾Ğ¼Ğ¿Ñ‚ Ğ´Ğ»Ñ Ğ¿ĞµÑ€ĞµĞ²Ğ¾Ğ´Ğ°, Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ»ÑÑ Ğ½Ğ°Ñ‡Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ Ğ¿Ñ€Ğ¾Ğ¼Ğ¿Ñ‚ `translate_prompt` Ğº Ñ‚ĞµĞºÑÑ‚Ñƒ.
   - Ğ•ÑĞ»Ğ¸ Ğ² Ñ‚ĞµĞºÑÑ‚Ğµ ĞµÑÑ‚ÑŒ Ğ¼Ğ°Ñ€ĞºĞµÑ€ "[!Note]", Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ»ÑĞµÑ‚ Ğ¸Ğ½ÑÑ‚Ñ€ÑƒĞºÑ†Ğ¸Ñ `keep_note` Ğ´Ğ»Ñ ĞµĞ³Ğ¾ ÑĞ¾Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ñ.
   - Ğ’Ñ‹Ğ·Ñ‹Ğ²Ğ°ĞµÑ‚ Ğ°ÑĞ¸Ğ½Ñ…Ñ€Ğ¾Ğ½Ğ½ÑƒÑ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ñ `provider.create_async` Ğ´Ğ»Ñ Ğ¿Ğ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ñ Ğ¿ĞµÑ€ĞµĞ²Ğ¾Ğ´Ğ° Ğ¾Ñ‚ GPT-4.
   - Ğ’Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‰Ğ°ĞµÑ‚ Ğ¿ĞµÑ€ĞµĞ²ĞµĞ´ĞµĞ½Ğ½Ñ‹Ğ¹ Ñ‚ĞµĞºÑÑ‚.

6. **Ğ¤ÑƒĞ½ĞºÑ†Ğ¸Ñ `translate_part(part, i)`**:
   - ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑĞµÑ‚, ÑĞ¾Ğ´ĞµÑ€Ğ¶Ğ¸Ñ‚ÑÑ Ğ»Ğ¸ Ñ‚ĞµĞºÑƒÑ‰Ğ°Ñ Ñ‡Ğ°ÑÑ‚ÑŒ Ğ² ÑĞ¿Ğ¸ÑĞºĞµ `blocklist`.
   - Ğ•ÑĞ»Ğ¸ Ñ‡Ğ°ÑÑ‚ÑŒ Ğ·Ğ°Ğ±Ğ»Ğ¾ĞºĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ°, Ğ¿ĞµÑ€ĞµĞ²Ğ¾Ğ´Ğ¸Ñ‚ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ·Ğ°Ğ³Ğ¾Ğ»Ğ¾Ğ²Ğ¾Ğº Ğ¸ ÑĞ»ĞµĞ¼ĞµĞ½Ñ‚Ñ‹ Ğ¸Ğ· `allowlist`.
   - Ğ•ÑĞ»Ğ¸ Ñ‡Ğ°ÑÑ‚ÑŒ Ğ½Ğµ Ğ·Ğ°Ğ±Ğ»Ğ¾ĞºĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ°, Ğ¿ĞµÑ€ĞµĞ²Ğ¾Ğ´Ğ¸Ñ‚ Ğ²ÑÑ Ñ‡Ğ°ÑÑ‚ÑŒ Ñ‚ĞµĞºÑÑ‚Ğ°.
   - Ğ’Ñ‹Ğ²Ğ¾Ğ´Ğ¸Ñ‚ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğµ Ğ¾ Ğ·Ğ°Ğ²ĞµÑ€ÑˆĞµĞ½Ğ¸Ğ¸ Ğ¿ĞµÑ€ĞµĞ²Ğ¾Ğ´Ğ° Ñ‡Ğ°ÑÑ‚Ğ¸.

7. **Ğ¤ÑƒĞ½ĞºÑ†Ğ¸Ñ `translate_readme(readme)`**:
   - Ğ Ğ°Ğ·Ğ´ĞµĞ»ÑĞµÑ‚ README Ğ½Ğ° Ñ‡Ğ°ÑÑ‚Ğ¸ Ğ¿Ğ¾ Ğ·Ğ°Ğ³Ğ¾Ğ»Ğ¾Ğ²ĞºÑƒ "## ".
   - ĞÑĞ¸Ğ½Ñ…Ñ€Ğ¾Ğ½Ğ½Ğ¾ Ğ¿ĞµÑ€ĞµĞ²Ğ¾Ğ´Ğ¸Ñ‚ ĞºĞ°Ğ¶Ğ´ÑƒÑ Ñ‡Ğ°ÑÑ‚ÑŒ, Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒÑ `translate_part`.
   - ĞĞ±ÑŠĞµĞ´Ğ¸Ğ½ÑĞµÑ‚ Ğ¿ĞµÑ€ĞµĞ²ĞµĞ´ĞµĞ½Ğ½Ñ‹Ğµ Ñ‡Ğ°ÑÑ‚Ğ¸ Ğ¾Ğ±Ñ€Ğ°Ñ‚Ğ½Ğ¾ Ğ² Ğ¾Ğ´Ğ¸Ğ½ Ñ‚ĞµĞºÑÑ‚.

8. **ĞÑĞ½Ğ¾Ğ²Ğ½Ğ¾Ğ¹ Ğ±Ğ»Ğ¾Ğº ĞºĞ¾Ğ´Ğ°**:
   - ĞÑ‚ĞºÑ€Ñ‹Ğ²Ğ°ĞµÑ‚ Ñ„Ğ°Ğ¹Ğ» "README.md" Ğ´Ğ»Ñ Ñ‡Ñ‚ĞµĞ½Ğ¸Ñ.
   - Ğ—Ğ°Ğ¿ÑƒÑĞºĞ°ĞµÑ‚ Ğ°ÑĞ¸Ğ½Ñ…Ñ€Ğ¾Ğ½Ğ½Ñ‹Ğ¹ Ğ¿ĞµÑ€ĞµĞ²Ğ¾Ğ´ Ğ²ÑĞµĞ³Ğ¾ README, Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒÑ `translate_readme`.
   - Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½ÑĞµÑ‚ Ğ¿ĞµÑ€ĞµĞ²ĞµĞ´ĞµĞ½Ğ½Ñ‹Ğ¹ Ñ‚ĞµĞºÑÑ‚ Ğ² Ğ½Ğ¾Ğ²Ñ‹Ğ¹ Ñ„Ğ°Ğ¹Ğ» Ñ Ğ¸Ğ¼ĞµĞ½ĞµĞ¼ "README-{iso}.md".

ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ
-------------------------

```python
import sys
from pathlib import Path
import asyncio

sys.path.append(str(Path(__file__).parent.parent.parent))

import g4f
g4f.debug.logging = True
from g4f.debug import access_token
provider = g4f.Provider.OpenaiChat

iso = "GE"
language = "german"
translate_prompt = f"""
Translate this markdown document to {language}.
Don\'t translate or change inline code examples.
```md
"""
keep_note = "Keep this: [!Note] as [!Note].\\n"
blocklist = [
    '## Â©ï¸ Copyright',
    '## ğŸš€ Providers and Models',
    '## ğŸ”— Related GPT4Free Projects'
]
allowlist = [
    "### Other",
    "### Models"
]

def read_text(text):
    start = end = 0
    new = text.strip().split('\n')
    for i, line in enumerate(new):
        if line.startswith('```'):
            if not start:
                start = i + 1
            end = i
    return '\n'.join(new[start:end]).strip()

async def translate(text):
    prompt = translate_prompt + text.strip() + '\n```'
    if "[!Note]" in text:
        prompt = keep_note + prompt
    result = read_text(await provider.create_async(
        model="",
        messages=[{"role": "user", "content": prompt}],
        access_token=access_token
    ))
    if text.endswith("```") and not result.endswith("```"):
        result += "\\n```"
    return result

async def translate_part(part, i):
    blocklisted = False
    for headline in blocklist:
        if headline in part:
            blocklisted = True
    if blocklisted:
        lines = part.split('\n')
        lines[0] = await translate(lines[0])
        part = '\n'.join(lines)
        for trans in allowlist:
            if trans in part:
                part = part.replace(trans, await translate(trans))
    else:
        part = await translate(part)
    print(f"[{i}] translated")
    return part

async def translate_readme(readme) -> str:
    parts = readme.split('\n## ')
    print(f"{len(parts)} parts...")
    parts = await asyncio.gather(
        *[translate_part("## " + part, i) for i, part in enumerate(parts)]
    )
    return "\\n\\n".join(parts)

with open("README.md", "r") as fp:
    readme = fp.read()

print("Translate readme...")
readme = asyncio.run(translate_readme(readme))

file = f"README-{iso}.md"
with open(file, "w") as fp:
    fp.write(readme)
print(f'"{file}" saved')