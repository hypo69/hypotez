## Как использовать модуль управления категориями Aliexpress
=========================================================================================

Описание
-------------------------
Модуль предоставляет функциональность для работы с категориями товаров на платформе Aliexpress. Он включает функции для получения ссылок на товары в категории, обновления категорий на основе данных с сайта и операций с базой данных.

Шаги выполнения
-------------------------
1. **Получение данных с Aliexpress**: 
    - Модуль получает данные о категориях товаров с сайта Aliexpress. 
    - Проверяет наличие категории в базе данных.
2. **Получение списка товаров в категории**: 
    - Если категория существует, модуль получает список товаров из этой категории.
    - Используется функция `get_list_products_in_category`. 
3. **Обновление категорий в сценарии**: 
    - Если категория не найдена в базе данных, модуль обновляет категории в сценарии на основе данных с сайта. 
    - Используется функция `update_categories_in_scenario_file`. 
4. **Сохранение данных в базу данных**:
    - Модуль сохраняет полученные данные о товарах и категориях в базу данных. 
    - Используется класс `DBAdaptor` для выполнения операций с базой данных. 
5. **Завершение**: 
    - Модуль завершает обработку категорий и товаров.

Пример использования
-------------------------

```python
# Импорт необходимых модулей
from hypotez.src.suppliers.suppliers_list.aliexpress.category import get_list_products_in_category, update_categories_in_scenario_file, DBAdaptor

# Создание экземпляра поставщика
supplier = Supplier()

# Получение списка товаров из категории
products = get_list_products_in_category(supplier)

# Обновление категорий в файле сценария
updated = update_categories_in_scenario_file(supplier, "scenario_file.json")

# Создание объекта для работы с базой данных
db = DBAdaptor()

# Выполнение операций с базой данных
db.select(cat_id=123)
db.insert()
db.update()
db.delete()
```

### Функции модуля

#### `get_list_products_in_category(s)`
Считывает URL товаров со страницы категории. Если есть несколько страниц с товарами, функция будет перелистывать все страницы.

**Аргументы:**
- `s` (`Supplier`): Экземпляр поставщика.

**Возвращает:**
- Список URL товаров в категории.

#### `get_prod_urls_from_pagination(s)`
Собирает ссылки на товары с страницы категории с перелистыванием страниц.

**Аргументы:**
- `s` (`Supplier`): Экземпляр поставщика.

**Возвращает:**
- Список ссылок на товары.

#### `update_categories_in_scenario_file(s, scenario_filename)`
Проверяет изменения категорий на сайте и обновляет файл сценария.

**Аргументы:**
- `s` (`Supplier`): Экземпляр поставщика.
- `scenario_filename` (str): Имя файла сценария для обновления.

**Возвращает:**
- `True`, если обновление прошло успешно.

#### `get_list_categories_from_site(s, scenario_file, brand=\'\')`
Получает список категорий с сайта на основе файла сценария.

**Аргументы:**
- `s` (`Supplier`): Экземпляр поставщика.
- `scenario_file` (str): Имя файла сценария.
- `brand` (str, optional): Опциональное имя бренда.

**Возвращает:**
- Список категорий.

#### Класс `DBAdaptor`
Предоставляет методы для выполнения операций с базой данных, таких как `SELECT`, `INSERT`, `UPDATE` и `DELETE`.

**Методы:**
- `select(cat_id, parent_id, project_cat_id)`: Выбирает записи из базы данных.
- `insert()`: Вставляет новые записи в базу данных.
- `update()`: Обновляет записи в базе данных.
- `delete()`: Удаляет записи из базы данных.

### Установка

Для работы с модулем необходимо установить зависимые пакеты, такие как `requests`, а также настроить соединение с базой данных через `gs.db_translations_credentials`.

### Зависимости:
- `requests`
- `src.utils.jjson`
- `src.db.manager_categories.suppliers_categories`

### Логирование

В модуле используется логирование через `src.logger`, которое помогает отслеживать ошибки и события в процессе выполнения.

### Автор

Модуль разработан для внутреннего использования в проекте.