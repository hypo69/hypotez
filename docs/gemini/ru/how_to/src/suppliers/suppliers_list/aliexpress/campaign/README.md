## \file hypotez/src/suppliers/suppliers_list/aliexpress/campaign/README.MD
# Инструкция по использованию модуля `campaign`

## Как использовать этот блок кода
=========================================================================================

### Описание
-------------------------
Модуль `campaign` предназначен для управления процессом создания и публикации рекламных кампаний на Facebook. Он включает в себя функциональность для инициализации параметров кампании (имя, язык, валюта), создания структуры каталогов, сохранения конфигураций для новой кампании, сбора и сохранения данных о товарах через `ali` или `html`, генерации рекламных материалов, просмотра кампании и публикации ее на Facebook.

### Шаги выполнения
-------------------------
1.  **Инициализация параметров кампании**: Определите имя кампании, язык и валюту.
2.  **Создание структуры каталогов**: Создайте необходимые каталоги и файлы для хранения активов кампании.
3.  **Сохранение конфигурации кампании**: Сохраните инициализированные параметры кампании в файл конфигурации или базу данных.
4.  **Сбор данных о товарах**: Соберите данные о товарах, которые будут продвигаться в кампании (например, ID товаров, описания, изображения и цены).
5.  **Сохранение данных о товарах**: Сохраните собранные данные о товарах в базу данных или файл.
6.  **Создание рекламных материалов**: Создайте графику, баннеры и другие рекламные материалы.
7.  **Просмотр кампании**: Проверьте все компоненты кампании, чтобы убедиться, что они готовы к публикации.
8.  **Публикация кампании**: Опубликуйте кампанию на платформе Facebook.

### Пример использования
-------------------------

```python
from src.suppliers.suppliers_list.aliexpress import campaign

# Инициализация параметров кампании
campaign_name = "Летняя распродажа"
language = "ru"
currency = "RUB"

# Создание структуры каталогов (пример)
import os
campaign_dir = f"campaigns/{campaign_name}"
os.makedirs(campaign_dir, exist_ok=True)

# Сохранение конфигурации кампании (пример)
config_file = os.path.join(campaign_dir, "config.json")
config_data = {
    "campaign_name": campaign_name,
    "language": language,
    "currency": currency
}
import json
with open(config_file, "w", encoding="utf-8") as f:
    json.dump(config_data, f, ensure_ascii=False, indent=4)

# Далее следуют шаги по сбору данных о товарах, созданию рекламных материалов и публикации кампании
```

### Описание процесса редактирования кампании
-------------------------
В процессе редактирования кампании выполняются следующие действия:
1. **Инициализация редактора кампании**: Пользователь вводит имя кампании, язык и валюту.
2. **Удаление товара**: Проверяется наличие аффилиатной ссылки, считывается список товаров из файла `sources.txt`, выполняется итерация и проверка `product_id`, удаление товара, если найдено совпадение, переименование файла товара, если совпадение не найдено.
3. **Обновление товара**: Вызывается функция `dump_category_products_files` для обновления категории с новым товаром.
4. **Обновление кампании**: Обновляются свойства кампании, такие как описание и другие параметры.
5. **Обновление категории**: Считываются данные категории из JSON-файла, обновляются данные категории и записываются в файл.
6. **Получение категории**: Проверяется, существует ли категория, и возвращаются детали категории.
7. **Получение списка категорий**: Проверяется наличие категорий и возвращается список имен категорий.
8. **Получение товаров категории**: Строится путь к товарам категории, извлекаются JSON-файлы товаров, считываются данные товаров, преобразуются в объекты и возвращается список товаров.

### Описание процесса подготовки кампании
-------------------------
1. **Начало процесса**: Определяется, нужно ли обработать все кампании или конкретную кампанию.
2. **Обработка кампаний**:
    - Если указан язык и валюта, то обрабатывается каждая кампания с указанными параметрами.
    - Если язык и валюта не указаны, то обрабатываются все локали для каждой кампании.
3. **Обработка категорий**:
    - Если указаны категории, то обрабатываются конкретные категории для кампании.
    - Если категории не указаны, то обрабатывается вся кампания.
4. **Завершение процесса**: Кампания готова к публикации.