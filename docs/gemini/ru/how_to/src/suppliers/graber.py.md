### Как использовать этот блок кода

=========================================================================================

Описание
-------------------------
Этот код содержит класс `Graber`, который является базовым классом для сбора данных о товарах с веб-страниц поставщиков. Он использует веб-драйвер для взаимодействия со страницей и извлекает целевые поля, такие как название, описание, спецификация, артикул и цена, на основе локаторов, хранящихся в JSON файлах.

Шаги выполнения
-------------------------
1.  **Инициализация класса `Graber`**:
    *   Создание экземпляра класса `Graber` с указанием префикса поставщика и экземпляра драйвера.
    *   Загрузка локаторов для товара и категорий из JSON файлов.
    *   Установка базового языка для полей товара.
    *   Инициализация конфигурации для декоратора `@close_pop_up`.
2.  **Метод `yield_scenarios_for_supplier`**:
    *   Генератор, который выдает словари сценариев для поставщика.
    *   Сначала обрабатывает сценарии, переданные в `input_scenarios`.
    *   Если `input_scenarios` пуст или None, ищет и загружает .json файлы из директории сценариев поставщика.
3.  **Метод `process_supplier_scenarios_async`**:
    *   Пример асинхронного метода, который использует генератор `yield_scenarios_for_supplier`.
    *   Вызывает `run_scenario` для каждого сценария.
4.  **Метод `process_scenarios`**:
    *   Выполняет один или несколько сценариев для указанного поставщика.
    *   Нормализует входные данные и динамически импортирует модуль сценария.
    *   Переходит по URL сценария и вызывает функцию для получения списка товаров.
5.  **Метод `set_field_value`**:
    *   Универсальная функция для установки значений полей с обработкой ошибок.
    *   Если `value` был передан, его значение подставляется в поле `ProductFields.additional_shipping_cost`.
6.  **Метод `grab_page_async`**:
    *   Асинхронная функция для сбора полей товара.
    *   Динамически вызывает функции для каждого поля из `args`.
7.  **Метод `error`**:
    *   Обработчик ошибок для полей.
8.  **Метод `additional_shipping_cost`**:
    *   Извлекает и устанавливает дополнительную стоимость доставки.
    *   Значение можно передать в словаре `kwargs` через ключ `{additional_shipping_cost = value}`.
9.  **Метод `delivery_in_stock`**:
    *   Извлекает и устанавливает статус наличия на складе.
    *   Значение можно передать в словаре `kwargs` через ключ `{delivery_in_stock = value}`.
10. **Метод `active`**:
    *   Извлекает и устанавливает статус активности.
    *   Значение можно передать в словаре `kwargs` через ключ `{active = value}`.
11. **Метод `additional_delivery_times`**:
    *   Извлекает и устанавливает дополнительное время доставки.
    *   Значение можно передать в словаре `kwargs` через ключ `{additional_delivery_times = value}`.
12. **Метод `advanced_stock_management`**:
    *   Извлекает и устанавливает статус расширенного управления запасами.
    *   Значение можно передать в словаре `kwargs` через ключ `{advanced_stock_management = value}`.
13. **Метод `affiliate_short_link`**:
    *   Извлекает и устанавливает короткую ссылку филиала.
    *   Значение можно передать в словаре `kwargs` через ключ `{affiliate_short_link = value}`.
14. **Метод `affiliate_summary`**:
    *   Извлекает и устанавливает сводку филиала.
    *   Значение можно передать в словаре `kwargs` через ключ `{affiliate_summary = value}`.
15. **Метод `affiliate_summary_2`**:
    *   Извлекает и устанавливает сводку филиала 2.
    *   Значение можно передать в словаре `kwargs` через ключ `{affiliate_summary_2 = value}`.
16. **Метод `affiliate_text`**:
    *   Извлекает и устанавливает текст филиала.
    *   Значение можно передать в словаре `kwargs` через ключ `{affiliate_text = value}`.
17. **Метод `affiliate_image_large`**:
    *   Извлекает и устанавливает большое изображение филиала.
    *   Значение можно передать в словаре `kwargs` через ключ `{affiliate_image_large = value}`.
18. **Метод `affiliate_image_medium`**:
    *   Извлекает и устанавливает среднее изображение филиала.
    *   Значение можно передать в словаре `kwargs` через ключ `{affiliate_image_medium = value}`.
19. **Метод `affiliate_image_small`**:
    *   Извлекает и устанавливает маленькое изображение филиала.
    *   Значение можно передать в словаре `kwargs` через ключ `{affiliate_image_small = value}`.
20. **Метод `available_date`**:
    *   Извлекает и устанавливает дату доступности.
    *   Значение можно передать в словаре `kwargs` через ключ `{available_date = value}`.
21. **Метод `available_for_order`**:
    *   Извлекает и устанавливает статус доступности для заказа.
    *   Значение можно передать в словаре `kwargs` через ключ `{available_for_order = value}`.
22. **Метод `available_later`**:
    *   Извлекает и устанавливает статус доступности позже.
    *   Значение можно передать в словаре `kwargs` через ключ `{available_later = value}`.
23. **Метод `available_now`**:
    *   Извлекает и устанавливает статус доступности сейчас.
    *   Значение можно передать в словаре `kwargs` через ключ `{available_now = value}`.
24. **Метод `additional_categories`**:
    *   Устанавливает дополнительные категории.
    *   Значение можно передать в словаре `kwargs` через ключ `{additional_categories = value}`.
25. **Метод `cache_default_attribute`**:
    *   Извлекает и устанавливает атрибут кэша по умолчанию.
    *   Значение можно передать в словаре `kwargs` через ключ `{cache_default_attribute = value}`.
26. **Метод `cache_has_attachments`**:
    *   Извлекает и устанавливает статус наличия вложений в кэше.
    *   Значение можно передать в словаре `kwargs` через ключ `{cache_has_attachments = value}`.
27. **Метод `cache_is_pack`**:
    *   Извлекает и устанавливает статус "является ли кэш упаковкой".
    *   Значение можно передать в словаре `kwargs` через ключ `{cache_is_pack = value}`.
28. **Метод `condition`**:
    *   Извлекает и устанавливает условие товара.
    *   Значение можно передать в словаре `kwargs` через ключ `{condition = value}`.
29. **Метод `customizable`**:
    *   Извлекает и устанавливает статус "настраиваемый".
    *   Значение можно передать в словаре `kwargs` через ключ `{customizable = value}`.
30. **Метод `date_add`**:
    *   Извлекает и устанавливает дату добавления.
    *   Значение можно передать в словаре `kwargs` через ключ `{date_add = value}`.
31. **Метод `date_upd`**:
    *   Извлекает и устанавливает дату обновления.
    *   Значение можно передать в словаре `kwargs` через ключ `{date_upd = value}`.
32. **Метод `delivery_out_stock`**:
    *   Извлекает и устанавливает статус доставки при отсутствии на складе.
    *   Значение можно передать в словаре `kwargs` через ключ `{delivery_out_stock = value}`.
33. **Метод `depth`**:
    *   Извлекает и устанавливает глубину.
    *   Значение можно передать в словаре `kwargs` через ключ `{depth = value}`.
34. **Метод `description`**:
    *   Извлекает и устанавливает описание.
    *   Значение можно передать в словаре `kwargs` через ключ `{description = value}`.
35. **Метод `description_short`**:
    *   Извлекает и устанавливает краткое описание.
    *   Значение можно передать в словаре `kwargs` через ключ `{description_short = value}`.
36. **Метод `id_category_default`**:
    *   Устанавливает ID категории по умолчанию.
    *   Значение можно передать в словаре `kwargs` через ключ `{id_category_default = value}`.
37. **Метод `id_default_combination`**:
    *   Извлекает и устанавливает ID комбинации по умолчанию.
    *   Значение можно передать в словаре `kwargs` через ключ `{id_default_combination = value}`.
38. **Метод `id_product`**:
    *   Извлекает и устанавливает ID товара.
    *   Значение можно передать в словаре `kwargs` через ключ `{id_product = value}`.
39. **Метод `locale`**:
    *   Извлекает и устанавливает локаль.
    *   Значение можно передать в словаре `kwargs` через ключ `{locale = value}`.
40. **Метод `id_default_image`**:
    *   Извлекает и устанавливает ID изображения по умолчанию.
    *   Значение можно передать в словаре `kwargs` через ключ `{id_default_image = value}`.
41. **Метод `ean13`**:
    *   Извлекает и устанавливает код EAN13.
    *   Значение можно передать в словаре `kwargs` через ключ `{ean13 = value}`.
42. **Метод `ecotax`**:
    *   Извлекает и устанавливает экологический налог.
    *   Значение можно передать в словаре `kwargs` через ключ `{ecotax = value}`.
43. **Метод `height`**:
    *   Извлекает и устанавливает высоту.
    *   Значение можно передать в словаре `kwargs` через ключ `{height = value}`.
44. **Метод `how_to_use`**:
    *   Извлекает и устанавливает "как использовать".
    *   Значение можно передать в словаре `kwargs` через ключ `{how_to_use = value}`.
45. **Метод `id_manufacturer`**:
    *   Извлекает и устанавливает ID производителя.
    *   Значение можно передать в словаре `kwargs` через ключ `{id_manufacturer = value}`.
46. **Метод `id_supplier`**:
    *   Извлекает и устанавливает ID поставщика.
    *   Значение можно передать в словаре `kwargs` через ключ `{id_supplier = value}`.
47. **Метод `id_tax_rules_group`**:
    *   Извлекает и устанавливает ID налога.
    *   Значение можно передать в словаре `kwargs` через ключ `{id_tax_rules_group = value}`.
48. **Метод `id_type_redirected`**:
    *   Извлекает и устанавливает ID перенаправленного типа.
    *   Значение можно передать в словаре `kwargs` через ключ `{id_type_redirected = value}`.
49. **Метод `images_urls`**:
    *   Извлекает и устанавливает URL изображений.
    *   Значение можно передать в словаре `kwargs` через ключ `{images_urls = value}`.
50. **Метод `indexed`**:
    *   Извлекает и устанавливает статус индексации.
    *   Значение можно передать в словаре `kwargs` через ключ `{indexed = value}`.
51. **Метод `ingredients`**:
    *   Извлекает и устанавливает ингредиенты.
    *   Значение можно передать в словаре `kwargs` через ключ `{ingredients = value}`.
52. **Метод `meta_description`**:
    *   Извлекает и устанавливает мета-описание.
    *   Значение можно передать в словаре `kwargs` через ключ `{meta_description = value}`.
53. **Метод `meta_keywords`**:
    *   Извлекает и устанавливает мета-ключевые слова.
    *   Значение можно передать в словаре `kwargs` через ключ `{meta_keywords = value}`.
54. **Метод `meta_title`**:
    *   Извлекает и устанавливает мета-заголовок.
    *   Значение можно передать в словаре `kwargs` через ключ `{meta_title = value}`.
55. **Метод `is_virtual`**:
    *   Извлекает и устанавливает статус "виртуальный".
    *   Значение можно передать в словаре `kwargs` через ключ `{is_virtual = value}`.
56. **Метод `isbn`**:
    *   Извлекает и устанавливает ISBN.
    *   Значение можно передать в словаре `kwargs` через ключ `{isbn = value}`.
57. **Метод `link_rewrite`**:
    *   Извлекает и устанавливает перезапись ссылки.
    *   Значение можно передать в словаре `kwargs` через ключ `{link_rewrite = value}`.
58. **Метод `location`**:
    *   Извлекает и устанавливает местоположение.
    *   Значение можно передать в словаре `kwargs` через ключ `{location = value}`.
59. **Метод `low_stock_alert`**:
    *   Извлекает и устанавливает предупреждение о низком запасе.
    *   Значение можно передать в словаре `kwargs` через ключ `{low_stock_alert = value}`.
60. **Метод `low_stock_threshold`**:
    *   Извлекает и устанавливает порог низкого запаса.
    *   Значение можно передать в словаре `kwargs` через ключ `{low_stock_threshold = value}`.
61. **Метод `minimal_quantity`**:
    *   Извлекает и устанавливает минимальное количество.
    *   Значение можно передать в словаре `kwargs` через ключ `{minimal_quantity = value}`.
62. **Метод `mpn`**:
    *   Извлекает и устанавливает MPN (Manufacturer Part Number).
    *   Значение можно передать в словаре `kwargs` через ключ `{mpn = value}`.
63. **Метод `name`**:
    *   Извлекает и устанавливает название товара.
    *   Значение можно передать в словаре `kwargs` через ключ `{name = value}`.
64. **Метод `online_only`**:
    *   Извлекает и устанавливает статус "только онлайн".
    *   Значение можно передать в словаре `kwargs` через ключ `{online_only = value}`.
65. **Метод `on_sale`**:
    *   Извлекает и устанавливает статус "в продаже".
    *   Значение можно передать в словаре `kwargs` через ключ `{on_sale = value}`.
66. **Метод `out_of_stock`**:
    *   Извлекает и устанавливает статус "нет в наличии".
    *   Значение можно передать в словаре `kwargs` через ключ `{out_of_stock = value}`.
67. **Метод `pack_stock_type`**:
    *   Извлекает и устанавливает тип упаковки.
    *   Значение можно передать в словаре `kwargs` через ключ `{pack_stock_type = value}`.
68. **Метод `price`**:
    *   Извлекает и устанавливает цену.
    *   Значение можно передать в словаре `kwargs` через ключ `{price = value}`.
69. **Метод `product_type`**:
    *   Извлекает и устанавливает тип товара.
    *   Значение можно передать в словаре `kwargs` через ключ `{product_type = value}`.
70. **Метод `quantity`**:
    *   Извлекает и устанавливает количество.
    *   Значение можно передать в словаре `kwargs` через ключ `{quantity = value}`.
71. **Метод `quantity_discount`**:
    *   Извлекает и устанавливает скидку на количество.
    *   Значение можно передать в словаре `kwargs` через ключ `{quantity_discount = value}`.
72. **Метод `redirect_type`**:
    *   Извлекает и устанавливает тип перенаправления.
    *   Значение можно передать в словаре `kwargs` через ключ `{redirect_type = value}`.
73. **Метод `reference`**:
    *   Извлекает и устанавливает ссылку.
    *   Значение можно передать в словаре `kwargs` через ключ `{reference = value}`.
74. **Метод `show_condition`**:
    *   Извлекает и устанавливает отображение условия.
    *   Значение можно передать в словаре `kwargs` через ключ `{show_condition = value}`.
75. **Метод `show_price`**:
    *   Извлекает и устанавливает отображение цены.
    *   Значение можно передать в словаре `kwargs` через ключ `{show_price = value}`.
76. **Метод `state`**:
    *   Извлекает и устанавливает состояние.
    *   Значение можно передать в словаре `kwargs` через ключ `{state = value}`.
77. **Метод `text_fields`**:
    *   Извлекает и устанавливает текстовые поля.
    *   Значение можно передать в словаре `kwargs` через ключ `{text_fields = value}`.
78. **Метод `unit_price_ratio`**:
    *   Извлекает и устанавливает коэффициент цены за единицу.
    *   Значение можно передать в словаре `kwargs` через ключ `{unit_price_ratio = value}`.
79. **Метод `unity`**:
    *   Извлекает и устанавливает единицу измерения.
    *   Значение можно передать в словаре `kwargs` через ключ `{unity = value}`.
80. **Метод `upc`**:
    *   Извлекает и устанавливает UPC.
    *   Значение можно передать в словаре `kwargs` через ключ `{upc = value}`.
81. **Метод `uploadable_files`**:
    *   Извлекает и устанавливает загружаемые файлы.
    *   Значение можно передать в словаре `kwargs` через ключ `{uploadable_files = value}`.
82. **Метод `default_image_url`**:
    *   Извлекает и устанавливает URL изображения по умолчанию.
    *   Значение можно передать в словаре `kwargs` через ключ `{default_image_url = value}`.
83. **Метод `visibility`**:
    *   Извлекает и устанавливает видимость.
    *   Значение можно передать в словаре `kwargs` через ключ `{visibility = value}`.
84. **Метод `weight`**:
    *   Извлекает и устанавливает вес.
    *   Значение можно передать в словаре `kwargs` через ключ `{weight = value}`.
85. **Метод `wholesale_price`**:
    *   Извлекает и устанавливает оптовую цену.
    *   Значение можно передать в словаре `kwargs` через ключ `{wholesale_price = value}`.
86. **Метод `width`**:
    *   Извлекает и устанавливает ширину.
    *   Значение можно передать в словаре `kwargs` через ключ `{width = value}`.
87. **Метод `specification`**:
    *   Извлекает и устанавливает спецификацию.
    *   Значение можно передать в словаре `kwargs` через ключ `{specification = value}`.
88. **Метод `link`**:
    *   Извлекает и устанавливает ссылку.
    *   Значение можно передать в словаре `kwargs` через ключ `{link = value}`.
89. **Метод `byer_protection`**:
    *   Извлекает и устанавливает защиту покупателя.
    *   Значение можно передать в словаре `kwargs` через ключ `{byer_protection = value}`.
90. **Метод `customer_reviews`**:
    *   Извлекает и устанавливает отзывы клиентов.
    *   Значение можно передать в словаре `kwargs` через ключ `{customer_reviews = value}`.
91. **Метод `link_to_video`**:
    *   Извлекает и устанавливает ссылку на видео.
    *   Значение можно передать в словаре `kwargs` через ключ `{link_to_video = value}`.
92. **Метод `local_image_path`**:
    *   Извлекает и сохраняет изображение локально.
    *   Значение можно передать в словаре `kwargs` через ключ `{local_image_path = value}`.
93. **Метод `local_video_path`**:
    *   Извлекает и сохраняет видео локально.
    *   Значение можно передать в словаре `kwargs` через ключ `{local_video_path = value}`.

Пример использования
-------------------------

```python
s = 'suppler_prefix'
from src.suppliers import Graber
locator = j_loads(gs.path.src.suppliers / f{s} / 'locators' / 'product.json')

class G(Graber):

    @close_pop_up()
    async def name(self, value:Optional[Any] = None) -> bool:
        self.fields.name = <Ваша реализация>
        )