# Модуль сбора товаров со страницы категорий поставщика hb.co.il через вебдрайвер

## Обзор

Модуль `category.py` предназначен для сбора информации о товарах из категорий на сайте hb.co.il с использованием вебдрайвера. Он реализует алгоритм сбора категорий и товаров, а также обработку списка товаров на страницах.

## Подробности

- Модуль собирает список категорий со страниц продавца с помощью функции `get_list_categories_from_site()`.
- Он также собирает список товаров со страницы категории с помощью функции `get_list_products_in_category()`.
- Функция `grab_product_page()` обрабатывает поля товара и передает информацию классу `Product`.
- Модуль использует вебдрайвер для автоматизации взаимодействия с веб-сайтом.

## Классы

### `Supplier`

**Описание**: Класс `Supplier` представляет собой абстрактный класс, который описывает поставщика и содержит информацию о нем, такую как имя, URL-адрес, набор локаторов (элементов на веб-странице) и другие данные.

**Атрибуты**:

- `name` (str): Имя поставщика.
- `url` (str): URL-адрес сайта поставщика.
- `locators` (Dict): Словарь, содержащий локаторы (элементов на веб-странице) для сбора информации.
- `driver` (Driver): Экземпляр вебдрайвера, который используется для взаимодействия с веб-сайтом.
- `current_scenario` (Dict): Словарь, содержащий текущий сценарий обработки (например, имя текущей категории).
- `data` (List): Список товаров, собранных с сайта.

**Принцип работы**:

Класс `Supplier` служит основой для создания классов, которые представляют конкретных поставщиков. Он предоставляет базовые методы для взаимодействия с веб-сайтом, такие как:

- `get_data()`: Метод для сбора информации о товарах.
- `get_list_products_in_category()`: Метод для сбора списка товаров на странице категории.
- `grab_product_page()`: Метод для сбора информации о конкретном товаре.

### `Product`

**Описание**: Класс `Product` представляет собой товар, который был получен с сайта поставщика.

**Атрибуты**:

- `data` (Dict): Словарь, содержащий информацию о товаре.


## Функции

### `get_list_products_in_category`

**Описание**: Функция `get_list_products_in_category` возвращает список URL-адресов товаров со страницы категории.

**Параметры**:

- `s` (`Supplier`): Экземпляр класса `Supplier`, который предоставляет информацию о поставщике.

**Возвращает**:

- `list[str, str, None]`: Список URL-адресов товаров или `None`, если на странице категории не найдено товаров.

**Как работает**:

1. Функция получает ссылку на страницу категории от поставщика.
2. Она использует вебдрайвер для открытия страницы.
3. Затем она ищет на странице элементы, которые содержат ссылки на товары.
4. Функция собирает ссылки на товары и возвращает их в виде списка.
5. Если на странице нет товаров, она возвращает `None`.

**Примеры**:

```python
# Получение списка товаров из категории от поставщика "Hb"
supplier = Supplier('Hb', 'https://www.hb.co.il/')
product_urls = get_list_products_in_category(supplier)

# Вывод списка URL-адресов товаров
print(product_urls)
```

### `paginator`

**Описание**: Функция `paginator` является листалкой, которая позволяет переходить к следующей странице категорий на сайте.

**Параметры**:

- `d` (`Driver`): Экземпляр вебдрайвера.
- `locator` (`dict`): Словарь, содержащий локаторы для перехода к следующей странице.
- `list_products_in_category` (`list`): Список URL-адресов товаров, уже собранных со страницы.

**Возвращает**:

- `bool`: `True`, если есть следующая страница, `False` - если нет.

**Как работает**:

1. Функция получает ссылку на кнопку "следующая страница" от поставщика.
2. Она использует вебдрайвер для нажатия на кнопку.
3. Затем она собирает ссылки на товары с новой страницы и добавляет их в список.
4. Если кнопка "следующая страница" не активна или не существует, функция возвращает `False`.

**Примеры**:

```python
# Переход к следующей странице категории
d = Driver(Chrome)
d.execute_locator(locator['pagination']['next'])

# Получение списка товаров с новой страницы
list_products_in_category = d.execute_locator(locator['product_links'])
```

### `get_list_categories_from_site`

**Описание**: Функция `get_list_categories_from_site` собирает список актуальных категорий с сайта.

**Параметры**:

- `s` (`Supplier`): Экземпляр класса `Supplier`, который предоставляет информацию о поставщике.

**Возвращает**:

- `list`: Список категорий.

**Как работает**:

1. Функция получает ссылку на страницу категорий от поставщика.
2. Она использует вебдрайвер для открытия страницы.
3. Затем она ищет на странице элементы, которые содержат ссылки на категории.
4. Функция собирает ссылки на категории и возвращает их в виде списка.

**Примеры**:

```python
# Получение списка категорий от поставщика "Hb"
supplier = Supplier('Hb', 'https://www.hb.co.il/')
categories = get_list_categories_from_site(supplier)

# Вывод списка категорий
print(categories)
```

## Примечания

- Модуль `category.py` использует вебдрайвер для автоматизации взаимодействия с веб-сайтом.
- Модуль может использоваться для сбора информации о товарах из категорий любого поставщика, который предоставляет доступ к своей информации через веб-интерфейс.
- Модуль разработан с учетом необходимости сбора информации о товарах с сайта hb.co.il, но его можно легко адаптировать для работы с другими сайтами.