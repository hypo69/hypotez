# Документация модуля управления сайтами на PrestaShop

## Обзор

Этот документ описывает структуру и способ работы с сайтами на платформе PrestaShop, а также хранение и использование ключей API.

## Подробней

Этот модуль предназначен для управления сайтами, работающими на платформе PrestaShop. Он предоставляет информацию о сайтах, способах хранения ключей API и примеры использования API для взаимодействия с сайтами. Модуль также содержит рекомендации по безопасности при работе с ключами API.

## Сайты

### Список сайтов PrestaShop

В настоящее время поддерживаются следующие сайты PrestaShop:

1.  [e-cat.co.il](https://e-cat.co.il)
2.  [emil-design.com](https://emil-design.com)
3.  [sergey.mymaster.co.il](https://sergey.mymaster.co.il)

Каждый из этих сайтов использует API для взаимодействия с различными параметрами и функциями.

## Хранение ключей API

### Описание

Ключи API для каждого сайта хранятся в файле `credentials.kdbx`. Этот файл является защищенной базой данных паролей и содержит следующие данные для каждого сайта:

*   URL сайта
*   Ключ API
*   Дополнительные метаданные (если необходимо)

Для работы с ключами из файла используйте менеджер паролей, поддерживающий формат `.kdbx`, например, [KeePass](https://keepass.info/) или [KeePassXC](https://keepassxc.org/).

### Как работает хранение ключей

Файл `credentials.kdbx` содержит зашифрованную базу данных, в которой хранятся все необходимые ключи API для взаимодействия с сайтами PrestaShop. Для доступа к этим ключам необходимо использовать менеджер паролей, поддерживающий формат `.kdbx`. После открытия файла в менеджере паролей можно получить доступ к URL сайта, ключу API и дополнительным метаданным для каждого сайта.

## Пример использования API

### Запрос данных через API

**Шаблон API-запроса:**

```bash
curl -X GET 'https://<URL_сайта>/api/<endpoint>' \
-H 'Authorization: Basic <base64(API_KEY)>'
```

**Объяснение параметров:**

*   `<URL_сайта>` — адрес сайта, например, `e-cat.co.il`.
*   `<endpoint>` — конечная точка API (например, `products`, `customers`).
*   `<API_KEY>` — ключ API, закодированный в формате Base64.

### Пример вызова API

Для получения списка продуктов на сайте `e-cat.co.il`:

```bash
curl -X GET 'https://e-cat.co.il/api/products' \
-H 'Authorization: Basic <base64(API_KEY)>'
```

## Рекомендации по безопасности

### Описание

Следующие рекомендации необходимо соблюдать для обеспечения безопасности при работе с ключами API:

*   Никогда не передавайте файл `credentials.kdbx` третьим лицам. ❗
*   Убедитесь, что файл находится в защищенном месте, доступном только вам. (папка `secrets` в корне проекта исключена из `git`)
*   Регулярно обновляйте ключи API и пароли для базы данных.

## Дополнительно

### Документация PrestaShop API

Если у вас возникли вопросы или трудности с подключением, ознакомьтесь с [официальной документацией PrestaShop API](https://devdocs.prestashop.com/), где представлена информация о доступных конечных точках и способах работы с ними.